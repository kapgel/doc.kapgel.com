{"name":"Kapgel.github.io","tagline":"kapgel api docs","body":"# KapGel İş Gönderme ve Takip Sistemi API dökümantasyonu\r\nKapGel API, kullanıcıların HTTP üzerinden güvenli bir şekide KapGel sistemine \r\nprogramatik olarak erişmesini sağlar. KapGel API hem son kullanıcıların yeni \r\ngönderi girmeleri için hem de girilmiş olan gönderilerin bir admin tarafından \r\nyönetimi için kullanılabilir. Bu sistemden beklenebilecek bazı özellikler şu \r\nanda eksik olsa da nihai amacımız gönderi yapan bütün şirketlerin KapGel'i \r\nsistemlerine sorunsuz ve rahat bir sekilde entegre edebilmelerini sağlamaktır. \r\nEğer bir sorunuz olursa ve ya eklenmesini istediğiniz bir özellik olursa lütfen \r\nbizimle irtibata geçin, isteklerinizi bir sonraki versiyonumuzda hayata \r\ngeçirmeye çalışacağız.\r\n\r\nKapGel API'ın son versiyonunun temel URL'i https://api.kapgel.com/1 dir(Sondaki\r\n'/1' versiyon numarasını belirtiyor olup gelecekteki versiyonlarda\r\ndeğişebilir).\r\nAşağıdaki dökümantasyonda URL kısımlarında bu temel URL'in ardına eklenecek\r\nadresler belirtilmiştir. Bütün isteklerde header'da\r\n```\r\nContent-type: application/json\r\n```\r\nolarak içerik türü belirtilmelidir. Kimlik doğrulama dışındaki bütün isteklerde\r\nde yetki anahtarı aşağıdaki gibi belirtilmelidir:\r\n```\r\nContent-type: application/json\r\nkapgel-auth: 03f1372d9-a534-4b79-8acf-c9ee3a88bfe4\r\n```\r\n(Yukarıdakı yetki anahtarı ve aşağıdakiler örnek içindir. Test ederken kendi\r\nyetki anahtarınızı kullanmayı unutmayınız :) )\r\n\r\nİstek bodyleri her zaman json formatında gönderilmelidir.\r\n\r\n## KapGel Adres Formatı\r\nKapGel'deki bütün adreslerde aşağıdaki alanlar bulunur: \r\n* *number*: Sokak numarası, opsiyonel.\r\n* *apartment*: Apartman ve ya bina adı, opsiyonel.\r\n* *street*: Sokak adı, zorunlu. Açık adres alınıyorsa bu alana açık adres\r\nyazılabilir. Diğer alanların belirtilmemesi halinde diğer alanlar bu alandan\r\nbelirlenecektir.\r\n* *neigborhood*: Mahalle adı, opsiyonel.\r\n* *district*: Semt adı, opsiyonel.\r\n* *county*: İlçe adı, opsiyonel. Gönderilerin planlanması için en azından ilçenin\r\nbelirli olması gerekmektedir. Eğer adreslerinizi gönderirken ilçeyi\r\nbelirlemiyorsanız, ilçe *street* alanından çıkarılmaya çalışılacaktır.\r\n* *city*: İl adı, belirtilmemişse \"İstanbul\" olarak kabul edilir.\r\n* *country*: Ülke adı, belirtilmemişse \"Türkiye\" olarak kabul edilir.\r\n\r\nÖrnek ayrıntılı adres:\r\n```\r\n{\r\n  number: \"39\",\r\n  apartment: \"Route 39\",\r\n  street: \"Mebusan Ykş.\",\r\n  neighborhood: \"Cihangir Mah.\",\r\n  district: \"Cihangir\",\r\n  county: \"Beyoğlu\",\r\n  city: \"İstanbul\"\r\n}\r\n```\r\nÖrnek açık adres:\r\n```\r\n{\r\n  street: \"Cihangir Mah, Mebuşan Ykş, No:39, Route 39\",\r\n  county: \"Beyoğlu\",\r\n  city: \"İstanbul\"\r\n}\r\n```\r\nHer ne kadar sistemimiz açık adresi kabul etse de, adres hatalarını en aza\r\nindirebilmek için ayrıntılı adres formatını kullanmanızı tavsiye ederiz.\r\n\r\n## KapGel Nesne Tipleri ve Kavramlar\r\nKapGel'i kullanan kullanıcılar, oluşturulan şirketler, şubeler ve gönderiler\r\nKapGel nesneleri olarak adlandırılır. Her KapGel nesnesinin bir id si vardır ve\r\nbu *_id* alaninda saklanir. Aşağıda KapGel nesnelerinin *_id* dışındaki\r\nalanları tanımlanmıştır. \r\n\r\n### *User* \r\nKapGel sistemini kullanan kullanıcı. Kullanıcı adı (*username*) ve şifreye \r\n(*password*) sahiptir. Aynı zamanda bir *store* la alakalıdır. Bir kullanıcı\r\nsadece bir *store* un  gönderilerini yönetebilir. Bir *store* birden fazla\r\nkullanıcıya sahip olabilir. Aynı kullanıcı adı ve şifreyi kullanarak web\r\narayüzünden ve ya API'dan, kendi *store* u için yeni gönderi oluşturabilir ve\r\nya varolan gönderileri yönetebilir.\r\n\r\n### *Contact* \r\nAdı, soyadı (*fullName*) ve telefon numarası (*phone*) olan bir kişiyi temsil\r\neder. Gönderiler teslim alınırken, teslim edilirken ve ya bir hata olduğunda\r\naranacak kişidir.\r\n\r\nÖrnek *contact*\r\n```\r\n{\r\n  fullName: \"Ahmet Yıldırım\",\r\n  phone: \"+902123232233\"\r\n}\r\n```\r\n\r\n### *Store* \r\nGönderilerini KapGel kullanarak yapan bir mağazalar ve ya dükkanlar\r\nzincirini temsil eder. Bir ve ya birden fazla *user* tarafından yönetilir.\r\nBir adı (*name*), logosu (*logo*), URL'i (*url*) ve *contact* i bulunur.\r\n\r\n### *Branch* \r\nGönderilerini KapGel kullanarak yapan bir *store* un bir tane şubesini temsil\r\neder. Adı (*name*), adresi (*address*), ve *contact* i bulunur.\r\n\r\nÖrnek *branch*\r\n```\r\n{\r\n  _id: \"543ce39bc525b5a602579697\",\r\n  name: \"pizzamyheart\",\r\n  address: {\r\n    neighborhood: \"Cihangir Mah.\",\r\n    status: \"OK\",\r\n    apartment: \"Route 39\",\r\n    number: \"39\",\r\n    street: \"Mebusan Ykş.\",\r\n    district: \"Cihangir\",\r\n    county: \"Beyoğlu\",\r\n  },\r\n  contact: {\r\n    fullName: \"Ahmet Yıldırım\",\r\n    phone: \"+902123232233\"\r\n  },\r\n  no: 1020\r\n}\r\n```\r\n### *Delivery* \r\nKapGel kullanılarak yapılan bir gönderiyi temsil eder. Aşağıdaki\r\nalanlara sahiptir:\r\n* *store:* Gönderiyi yapan *store* un *_id* si. *delivery* yi oluşturan \r\nkullanıcının bağlı olduğu *store*, *delivery* nin *store* u olarak kabul\r\nedilir.\r\n* *branch:* Gönderinin alınacağı şubenin *_id* si. Bu alan opsiyoneldir. Eğer\r\nbu alan kullanıcı tarafından belirtilmişse kurye paketi almak için *branch* in\r\nadresine gider.\r\n* *orderNo:* Gönderinin sipariş/paket numarası. Bu numara kullanıcı tarafından\r\nbelirtilmelidir. Kurye gönderiyi teslim alırken bu numarayı belirterek\r\nalacaktır.\r\n* *sender:* Gönderinin teslim alınacağı *contact*. Bu alan opsiyoneldir. \r\n*sender* kullanıcı tarafından belirtilmemişse *branch* in *contact* i *sender*\r\nolarak kullanılır. *branch* belirtilmemişse *sender* belirtilmek zorundadır.\r\n* *recipient:* Gönderinin teslim edileceği *contact*. Bu alan zorunludur.\r\n* *from:* Gönderinin teslim alınacağı adres. Bu alan belirtilmemişse *branch*\r\nin adresi kullanılır. *branch* belirtilmemişse *from* belirtmek zorunludur.\r\n* *to:* Gönderinin teslim edileceği adres. Bu alan belirtilmek zorundadır.\r\n* *desi:* Gönderinin desi olarak boyutu.\r\n\r\nGönderinin teslim alınacağı adres *branch* ten ve ya *sender* ve *from*\r\nalanları kullanılarak tespit edilir. Bu nedenle şubeden gönderilmeyen paketler\r\niçin şube idsi belirtilmemesi gerekir.\r\n*branch* kullanılarak oluşturulan bir *delivery*\r\n```\r\n{\r\n  \"branch\": \"543ce39bc525b5a602579697\",\r\n  \"recipient\": {\r\n    \"fullName\": \"Mehmet Yilmaz\",\r\n    \"phone\": \"05321234567\",\r\n    \"notes\": \"Merdivenden cikinca 5. katta, zili calmayin\"\r\n  },\r\n  \"to\": {\r\n    \"number\": 21,\r\n    \"apartment\": 10,\r\n    \"address\": \"Çay Ocağı Sk, Çubuklu Mh, Beykoz, İstanbul, Türkiye\"\r\n  },\r\n  \"desi\": 3\r\n}\r\n```\r\n*branch* kullanılmadan oluşturulan bir *delivery*\r\n```\r\n{\r\n  \"desi\": 3,\r\n  \"sender\": {\r\n    \"fullName\": \"Adem Demir\",\r\n    \"phone\": \"05053333333\",\r\n    \"notes\": \"Adem Bey 12-1 arası ulaşılamayabilir\"\r\n  },\r\n  \"recipient\": {\r\n    \"fullName\": \"Mehmet Yilmaz\",\r\n    \"phone\": \"05321234567\",\r\n    \"notes\": \"Merdivenden cikinca 5. katta, zili calmayin\"\r\n  },\r\n  \"from\": {\r\n    \"number\": 12,\r\n    \"apartment\" : \"Urban Station Galata\",\r\n    \"address\": \"Şahkulu Mh., Serdar-ı Ekrem Caddesi\",\r\n    \"county\": \"Beyoğlu\",\r\n    \"city\": \"İstanbul\"\r\n  },\r\n  \"to\": {\r\n    \"number\": 21,\r\n    \"apartment\": 10,\r\n    \"address\": \"Çay Ocağı Sk, Çubuklu Mh, Beykoz, İstanbul, Türkiye\"\r\n  }\r\n}\r\n```\r\n\r\n## Kimlik Doğrulama ve yetki anahtarına ulaşma\r\nBu istek sadece bir defa yapılıp yetki anahtarına ulaşmak için kullanılabilir. \r\nYetki anahtarı değişmediği için programınızda her zaman kullanıcı adı ve şifre\r\ngöndermek yerine, yetki anahtarınızı kaydedip onu bir daha sorgulamamanızı \r\ntavsiye ediyoruz.\r\n```\r\nPOST /auth\r\nheader: {\r\n  Content-Type: application/json\r\n}\r\nbody: {\r\n  \"username\": \"pizza\", \r\n  \"password\": \"myheart\"\r\n}\r\n```\r\nCevap:\r\n```\r\n{\r\n  token: \"0e34f7b44-4704-4953-bef3-b73fa616b462\"\r\n}\r\n```\r\nCevaptaki *token* alanı sizin yetki anahtarınızdır. Bundan sonraki\r\nisteklerinizde bu anahtarı header'da *kapgel-auth:* olarak belirtmelisiniz.\r\n## *Branch* leri listeleme\r\nKullanıcının *store* una bağlı olan bütün *branch*leri listeler:\r\n```\r\nGET /branch\r\nheader: {\r\n  Content-type: application/json\r\n  kapgel-auth: 0e34f7b44-4704-4953-bef3-b73fa616b462\r\n}\r\n```\r\nCevap:\r\n```\r\n[\r\n  {\r\n    _id: \"543ce39bc525b5a602579697\",\r\n    name: \"pizzamyheart\",\r\n    address: {\r\n      neighborhood: \"Cihangir Mah.\",\r\n      status: \"OK\",\r\n      apartment: \"Route 39\",\r\n      number: \"39\",\r\n      street: \"Mebusan Ykş.\",\r\n      district: \"Cihangir\",\r\n      county: \"Beyoğlu\"\r\n    },\r\n    contact: {\r\n      fullName: \"Ahmet Yıldırım\",\r\n      phone: \"02123232233\"\r\n    },\r\n    no: 1020\r\n  }\r\n]\r\n```\r\n### Gönderi Oluşturma:\r\nGönderi oluşturulurken *branch* belirtilirse teslim alma adres bilgileri\r\n*branch* ten alınacaktır. Diğer durum da *sender* ve *from* bilgileri teslim\r\nalma adresi olarak kullanılacaktır.\r\n*branch* kullanılarak oluşturulan bir *delivery*\r\n```\r\nPOST /delivery\r\nheader: {\r\n  Content-Type: application/json\r\n  kapgel-auth: 0e34f7b44-4704-4953-bef3-b73fa616b462\r\n}\r\nbody: {\r\n  \"desi\": 3,\r\n  \"branch\": \"543ce39bc525b5a602579697\",\r\n  \"recipient\": {\r\n    \"fullName\": \"Mehmet Yilmaz\",\r\n    \"phone\": \"05321234567\",\r\n    \"notes\": \"Merdivenden cikinca 5. katta, zili calmayin\"\r\n  },\r\n  \"to\": {\r\n    \"number\": 21,\r\n    \"apartment\": 10,\r\n    \"address\": \"Çay Ocağı Sk, Çubuklu Mh, Beykoz, İstanbul, Türkiye\"\r\n  }\r\n}\r\n```\r\nCevap:\r\n```\r\n{\r\n  \"recipient\": {\r\n    \"type\":\"customer\",\r\n    \"fullName\":\"Mehmet Yilmaz\",\r\n    \"phone\":\"+905321234567\"\r\n  },\r\n  \"sender\": {\r\n    \"type\":\"branch\",\"\r\n    fullName\":\"Ahmet Yıldırım\",\r\n    \"phone\":\"02123332233\"\r\n  },\r\n  \"destination\": {\r\n    \"county\":\"Beykoz\",\r\n    \"neighborhood\":\"Çubuklu Mah.\",\r\n    \"street\":\"Çay Ocağı Sokak (G-34 Sk.)\",\r\n    \"number\":\"21\",\r\n    \"apartment\":\"10\",\r\n    \"country\":\"Turkey\",\r\n    \"city\":\"İstanbul\"\r\n  },\r\n  \"origin\": {\r\n    \"apartment\":\"Route 39\",\r\n    \"number\":\"39\",\r\n    \"street\":\"Cihangir Caddesi\",\r\n    \"neighborhood\":\"Cihangir Mah.\",\r\n    \"district\":\"Cihangir\",\r\n    \"county\":\"Beyoğlu\",\r\n    \"country\":\"Turkey\",\r\n    \"city\":\"İstanbul\"\r\n  },\r\n  \"branch\": {\r\n    \"_id\":\"543ce39bc525b5a602579697\",\r\n    \"name\":\"pizzamyheart\"\r\n  },\r\n  \"store\":\"543cdee4efc938760208b105\",\r\n  \"events\":[{\r\n    \"name\":\"created\",\r\n    \"message\":\"Gönderi oluşturuldu\",\r\n    \"loc\":[],\r\n    \"time\":\"2014-10-14T10:40:35.939Z\"\r\n  }],\r\n  \"paid\":false,\r\n  \"desi\":3,\r\n  \"to\": {\r\n    \"address\": \"Çay Ocağı Sk, Çubuklu Mh, Beykoz, İstanbul, Türkiye\",\r\n    \"apartment\":\"10\",\r\n    \"number\":\"21\"\r\n  },\r\n  \"status\": \"created\",\r\n  \"approved\":false,\r\n  \"_id\":\"543cfda3cb3b375a048a85ac\",\r\n  \"no\":1174,\r\n  \"updatedAt\":\"2014-10-14T10:40:35.945Z\",\r\n  \"createdAt\":\"2014-10-14T10:40:35.922Z\"\r\n}\r\n```\r\n*branch* kullanılmadan oluşturulan bir *delivery*\r\n```\r\nPOST /delivery\r\nheader: {\r\n  Content-Type: application/json\r\n  kapgel-auth: 0e34f7b44-4704-4953-bef3-b73fa616b462\r\n}\r\nbody: {\r\n  \"desi\": 3,\r\n  \"sender\": {\r\n    \"fullName\": \"Adem Demir\",\r\n    \"phone\": \"05053333333\",\r\n    \"notes\": \"Adem Bey 12-1 arası ulaşılamayabilir\"\r\n  },\r\n  \"from\": {\r\n    \"number\": 12,\r\n    \"apartment\" : \"Urban Station Galata\",\r\n    \"address\": \"Şahkulu Mh., Serdar-ı Ekrem Caddesi\",\r\n    \"county\": \"Beyoğlu\",\r\n    \"city\": \"İstanbul\"\r\n  },\r\n  \"recipient\": {\r\n    \"fullName\": \"Mehmet Yilmaz\",\r\n    \"phone\": \"05321234567\",\r\n    \"notes\": \"Merdivenden cikinca 5. katta, zili calmayin\"\r\n  },\r\n  \"to\": {\r\n    \"number\": 21,\r\n    \"apartment\": 10,\r\n    \"address\": \"Çay Ocağı Sk, Çubuklu Mh, Beykoz, İstanbul, Türkiye\"\r\n  }\r\n}\r\n```\r\nCevap: \r\n```\r\n{\r\n  \"recipient\": {\r\n    \"type\": \"customer\",\r\n    \"fullName\": \"Mehmet Yilmaz\",\r\n    \"phone\": \"+905321234567\"\r\n  },\r\n  \"sender\": {\r\n    \"type\": \"store\",\r\n    \"fullName\": \"Adem Demir\",\r\n    \"phone\": \"+905053333333\"\r\n  },\r\n  \"destination\":{\r\n    \"county\": \"Beykoz\",\r\n    \"neighborhood\": \"Çubuklu Mah.\",\r\n    \"street\": \"Çay Ocağı Sokak (G-34 Sk.)\",\r\n    \"number\": \"21\",\r\n    \"apartment\": \"10\",\r\n    \"country\": \"Turkey\",\r\n    \"city\": \"İstanbul\"\r\n  },\r\n  \"origin\": {\r\n    \"neighborhood\": \"Şahkulu Mah.\",\r\n    \"street\": \"Serdar-ı Ekrem Caddesi\",\r\n    \"county\": \"Beyoğlu\",\r\n    \"number\": \"12\",\r\n    \"apartment\": \"Urban Station Galata\",\r\n    \"country\": \"Turkey\",\r\n    \"city\": \"İstanbul\"\r\n  },\r\n  \"store\": \"543cdee4efc938760208b105\",\r\n  \"events\": [{\r\n    \"name\": \"created\",\r\n    \"message\": \"Gönderi oluşturuldu\",\r\n    \"loc\": [],\r\n    \"time\": \"2014-10-14T10:47:20.651Z\"\r\n  }],\r\n  \"paid\": false,\r\n  \"desi\": 3,\r\n  \"to\": {\r\n    \"address\": \"Çay Ocağı Sk, Çubuklu Mh, Beykoz, İstanbul, Türkiye\",\r\n    \"apartment\": \"10\",\r\n    \"number\": \"21\"\r\n  },\r\n  \"from\": {\r\n    \"address\": \"Şahkulu Mh., Serdar-ı Ekrem Caddesi\",\r\n    \"apartment\": \"Urban Station Galata\",\r\n    \"number\": \"12\",\r\n    \"county\": \"Beyoğlu\",\r\n    \"city\": \"İstanbul\"\r\n  },\r\n  \"status\": \"created\",\r\n  \"approved\": false,\r\n  \"_id\":\"543cff38cb3b375a048a85bd\",\r\n  \"no\":1175,\r\n  \"updatedAt\": \"2014-10-14T10:47:20.656Z\",\r\n  \"createdAt\":\"2014-10-14T10:47:20.640Z\"\r\n}\r\n```\r\n### Gönderileri listeleme\r\nBütün gönderilerin listesi için\r\n```\r\nGET /delivery\r\nheader: {\r\n  kapgel-auth: 0b833ef40-245c-11e4-8b24-05df52b6cb67,\r\n  branch: 53b169b05b4856ab90e05d15\r\n}\r\n```\r\nCevap:\r\n```\r\n[{\r\n  \"_id\": \"543d0138cb3b375a048a85c9\",\r\n  \"recipient\": {\r\n    \"type\": \"customer\",\r\n    \"fullName\": \"Mehmet Yilmaz\",\r\n    \"phone\": \"+905321234567\"\r\n  },\r\n  \"sender\": {\r\n    \"type\":\"store\",\r\n    \"fullName\": \"Adem Demir\",\r\n    \"phone\": \"+905053333333\"\r\n  },\r\n  \"destination\": {\r\n    \"county\": \"Beykoz\",\r\n    \"neighborhood\": \"Çubuklu Mah.\",\r\n    \"street\": \"Çay Ocağı Sokak (G-34 Sk.)\",\r\n    \"status\": \"OK\",\r\n    \"number\": \"21\",\r\n    \"apartment\": \"10\"\r\n  },\r\n  \"origin\": {\r\n    \"neighborhood\": \"Şahkulu Mah.\",\r\n    \"street\": \"Serdar-ı Ekrem Caddesi\",\r\n    \"status\": \"OK\",\r\n    \"county\": \"Beyoğlu\",\r\n    \"number\": \"12\",\r\n    \"apartment\": \"Urban Station Galata\"\r\n  },\r\n  \"branch\": null,\r\n  \"events\": [{\r\n    \"name\": \"created\",\r\n    \"message\": \"Gönderi oluşturuldu\",\r\n    \"loc\": [],\r\n    \"time\": \"2014-10-14T10:55:52.244Z\"\r\n  }],\r\n  \"desi\": 3,\r\n  \"status\": \"created\",\r\n  \"approved\": false,\r\n  \"no\": 1176,\r\n  \"updatedAt\": \"2014-10-14T10:55:52.248Z\",\r\n  \"createdAt\":\"2014-10-14T10:55:52.233Z\"\r\n}, {\r\n  \"_id\": \"543d014ecb3b375a048a85d7\",\r\n  \"recipient\": {\r\n    \"type\": \"customer\",\r\n    \"fullName\": \"Mehmet Yilmaz\",\r\n    \"phone\": \"+905321234567\"\r\n  },\r\n  \"sender\": {\r\n    \"type\": \"branch\",\r\n    \"fullName\": \"Ahmet Yıldırım\",\r\n    \"phone\": \"02123332233\"\r\n  },\r\n  \"destination\": {\r\n    \"county\":\"Beykoz\",\r\n    \"neighborhood\":\"Çubuklu Mah.\",\r\n    \"street\":\"Çay Ocağı Sokak (G-34 Sk.)\",\r\n    \"status\":\"OK\",\r\n    \"number\":\"21\",\r\n    \"apartment\":\"10\"\r\n  },\r\n  \"origin\": {\r\n    \"status\": \"unsure\",\r\n    \"apartment\": \"Route 39\",\r\n    \"number\": \"39\",\r\n    \"street\": \"Cihangir Caddesi\",\r\n    \"neighborhood\": \"Cihangir Mah.\",\r\n    \"district\": \"Cihangir\",\r\n    \"county\": \"Beyoğlu\"\r\n  },\r\n  \"branch\": {\r\n    \"_id\": \"543ce39bc525b5a602579697\",\r\n    \"name\": \"pizzamyheart\"\r\n  },\r\n  \"events\": [{\r\n    \"name\": \"created\",\r\n    \"message\": \"Gönderi oluşturuldu\",\r\n    \"loc\": [],\r\n    \"time\": \"2014-10-14T10:56:14.981Z\"\r\n  }],\r\n  \"desi\": 3,\r\n  \"status\": \"created\",\r\n  \"approved\": false,\r\n  \"no\":1177,\r\n  \"updatedAt\": \"2014-10-14T10:56:14.986Z\",\r\n  \"createdAt\":\"2014-10-14T10:56:14.974Z\"\r\n}]\r\n```\r\nTek bir gonderi icin URL'de delivery *_id* sini belirtin:\r\n```\r\nGET /delivery/543d014ecb3b375a048a85d7\r\nheader: {\r\n  Content-Type: application/json\r\n  kapgel-auth: 0b833ef40-245c-11e4-8b24-05df52b6cb67\r\n}\r\n```\r\nCevap:\r\n```\r\n{\r\n  \"_id\": \"543d014ecb3b375a048a85d7\",\r\n  \"recipient\": {\r\n    \"type\": \"customer\",\r\n    \"fullName\": \"Mehmet Yilmaz\",\r\n    \"phone\": \"+905321234567\"\r\n  },\r\n  \"sender\": {\r\n    \"type\": \"branch\",\r\n    \"fullName\": \"Ahmet Yıldırım\",\r\n    \"phone\": \"02123332233\"\r\n  },\r\n  \"destination\": {\r\n    \"county\":\"Beykoz\",\r\n    \"neighborhood\":\"Çubuklu Mah.\",\r\n    \"street\":\"Çay Ocağı Sokak (G-34 Sk.)\",\r\n    \"status\":\"OK\",\r\n    \"number\":\"21\",\r\n    \"apartment\":\"10\"\r\n  },\r\n  \"origin\": {\r\n    \"status\": \"unsure\",\r\n    \"apartment\": \"Route 39\",\r\n    \"number\": \"39\",\r\n    \"street\": \"Cihangir Caddesi\",\r\n    \"neighborhood\": \"Cihangir Mah.\",\r\n    \"district\": \"Cihangir\",\r\n    \"county\": \"Beyoğlu\"\r\n  },\r\n  \"branch\": {\r\n    \"_id\": \"543ce39bc525b5a602579697\",\r\n    \"name\": \"pizzamyheart\"\r\n  },\r\n  \"events\": [{\r\n    \"name\": \"created\",\r\n    \"message\": \"Gönderi oluşturuldu\",\r\n    \"loc\": [],\r\n    \"time\": \"2014-10-14T10:56:14.981Z\"\r\n  }],\r\n  \"desi\": 3,\r\n  \"status\": \"created\",\r\n  \"approved\": false,\r\n  \"no\":1177,\r\n  \"updatedAt\": \"2014-10-14T10:56:14.986Z\",\r\n  \"createdAt\":\"2014-10-14T10:56:14.974Z\"\r\n}\r\n```\r\n### Gönderi onaylama\r\n```\r\nPOST /delivery/543d014ecb3b375a048a85d7/approve\r\nheader: {\r\n  kapgel-auth: 0b833ef40-245c-11e4-8b24-05df52b6cb67\r\n}\r\n```\r\nCevap:\r\n```\r\n{\r\n  \"_id\": \"543d014ecb3b375a048a85d7\",\r\n  \"recipient\": {\r\n    \"type\": \"customer\",\r\n    \"fullName\": \"Mehmet Yilmaz\",\r\n    \"phone\": \"+905321234567\"\r\n  },\r\n  \"sender\": {\r\n    \"type\": \"branch\",\r\n    \"fullName\": \"Ahmet Yıldırım\",\r\n    \"phone\": \"02123332233\"\r\n  },\r\n  \"destination\": {\r\n    \"county\":\"Beykoz\",\r\n    \"neighborhood\":\"Çubuklu Mah.\",\r\n    \"street\":\"Çay Ocağı Sokak (G-34 Sk.)\",\r\n    \"status\":\"OK\",\r\n    \"number\":\"21\",\r\n    \"apartment\":\"10\"\r\n  },\r\n  \"origin\": {\r\n    \"status\": \"unsure\",\r\n    \"apartment\": \"Route 39\",\r\n    \"number\": \"39\",\r\n    \"street\": \"Cihangir Caddesi\",\r\n    \"neighborhood\": \"Cihangir Mah.\",\r\n    \"district\": \"Cihangir\",\r\n    \"county\": \"Beyoğlu\"\r\n  },\r\n  \"branch\": {\r\n    \"_id\": \"543ce39bc525b5a602579697\",\r\n    \"name\": \"pizzamyheart\"\r\n  },\r\n  \"events\": [{\r\n    \"name\": \"created\",\r\n    \"message\": \"Gönderi oluşturuldu\",\r\n    \"loc\": [],\r\n    \"time\": \"2014-10-14T10:56:14.981Z\"\r\n  }],\r\n  \"desi\": 3,\r\n  \"status\": \"created\",\r\n  \"approved\": true,\r\n  \"no\":1177,\r\n  \"updatedAt\": \"2014-10-14T10:56:14.986Z\",\r\n  \"createdAt\":\"2014-10-14T10:56:14.974Z\"\r\n}\r\n```\r\n### iptal etme\r\n```\r\nPOST /delivery/53edfd328c28863e01c63d06/cancel\r\nheader: {\r\n  kapgel-auth: 0b833ef40-245c-11e4-8b24-05df52b6cb67\r\n}\r\n```\r\nCevap:\r\n```\r\n{\r\n  \"_id\": \"543d014ecb3b375a048a85d7\",\r\n  \"recipient\": \"543ceb2e8b7b933203b8069d\",\r\n  \"sender\": \"543ce39bc525b5a602579695\",\r\n  \"destination\": \"543d014ecb3b375a048a85d8\",\r\n  \"origin\": \"543ce39bc525b5a602579696\",\r\n  \"branch\": \"543ce39bc525b5a602579697\",\r\n  \"store\": \"543cdee4efc938760208b105\",\r\n  \"events\": [{\r\n    \"name\": \"created\",\r\n    \"message\": \"Gönderi oluşturuldu\",\r\n    \"loc\": [],\r\n    \"time\": \"2014-10-14T10:56:14.981Z\"\r\n  }, {\r\n    \"name\":\"cancelled\",\r\n    \"message\":\"The status of delivery changed manually to cancelled\",\r\n    \"loc\":[],\r\n    \"time\":\"2014-10-14T11:07:09.147Z\"\r\n  }],\r\n  \"paid\":false,\r\n  \"desi\":3,\r\n  \"to\": {\r\n    \"address\": \"Çay Ocağı Sk, Çubuklu Mh, Beykoz, İstanbul, Türkiye\",\r\n    \"apartment\": \"10\",\r\n    \"number\": \"21\"\r\n  },\r\n  \"status\":\"cancelled\",\r\n  \"approved\":true,\r\n  \"no\":1177,\r\n  \"updatedAt\": \"2014-10-14T11:07:09.152Z\",\r\n  \"createdAt\": \"2014-10-14T10:56:14.974Z\"\r\n}\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}